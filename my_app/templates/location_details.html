{% extends 'base.html' %}
{% block content %}

<div class="container text-center">
    <div class="row">
      <div class="col d-flex justify-content-center py-4">
        <form action="/location_details" class="d-flex" method="POST">
          <label for="products" class="form-label btn btn-secondary " style="margin-bottom: 0; padding-top: 6px; border-radius:5px 0px 0px 5px">Select a Product :</label>
            <select name="products" id="products" class="btn btn-secondary" style="border-radius:0px 5px 5px 0px">
              {%for p in products %}
              <option value="{{p[0]}}">{{p[0]}}</option>
              {% endfor %}
            </select>
          <button type="submit" class="btn btn-outline-success ms-3">Search</button>
        </form>  
      </div>
    </div>
  </div>

  <div class="container mt-5">
    <div class="box-nav d-flex justify-between">
        <table class="table table-striped table-responsive table-bordered caption-top">
            <caption class="text-center fw-bold fs-4">Selected Product is {{selected_product}}</caption>
            <thead class="table-dark">
                <tr>
                    <th>Sr. No.</th>
                    <th>Location Name </th>
                    <th>Quantity</th>
                </tr>
            </thead>
            <tbody>
                {% for product in product_stock %}
                    <tr>
                        <td>{{loop.index}}</td>
                        <td>{{product.location_name}}</td>
                        <td>{{product.quantity}}</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>   
  </div>

  <div class="container mt-5">
    <div class="box-nav d-flex justify-between">
        <table class="table table-striped table-responsive table-bordered caption-top">
            <caption class="text-center fw-bold fs-4">Total location with quantity</caption>
            <thead class="table-dark">
                <tr>
                    <th>Sr. No.</th>
                    <th>Location Name </th>
                    <th>Quantity</th>
                </tr>
            </thead>
            <tbody>
                {% for location in locations %}
                    <tr>
                        <td>{{loop.index}}</td>
                        <td>{{location[0]}}</td>
                        <td>{{location[1]}}</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>   
  </div>

  
  {% endblock %}